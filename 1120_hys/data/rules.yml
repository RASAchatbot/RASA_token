version: "3.1"

rules:
  - rule: activate restaurant form
    steps:
      - intent: greet   # intent that triggers form activation
      - action: utter_ask_for_contact_info
      - action: userinfo_form      # run the form
      - active_loop: userinfo_form # this form is active

  - rule: submit form
    condition:
    - active_loop: userinfo_form  # this form must be active
    steps:
      - action: userinfo_form     # run the form
      - active_loop: null            # the form is no longer active because it has been filled
      - action: utter_acknowledge_provided_info      # action to take after the form is complete
